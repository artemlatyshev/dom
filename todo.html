<style>
    .todo-active,
    .todo-done {
        padding: 20px;
    }
    .todo-active {
        background: #fbb;
    }
    .todo-done {
        background: #ffb;
    }
    .todo-item {
        background: #bfb;
        padding: 10px;
        display: flex;
    }
    input {
        margin: 4px 3px 2px 4px;
    }
</style>

<div id="todo" class="todo-component">
    <div class="todo-active"></div>
    <div class="todo-done"></div>
</div>

<script>
    const todo = document.querySelector('.todo-component');
    const todoActive = todo.querySelector('.todo-active');
    const todoDone = todo.querySelector('.todo-done');

    const items = [
        { text: 'купить молоко', done: false },
        { text: 'купить хлеб', done: true },
        { text: 'купить сыр', done: false },
    ];

    createTodoItems(items);

    function createTodoItems(items) {
        items.filter(item => !item.done).forEach(item => {
            todoActive.appendChild(createTodoItem(item));
        });

        items.filter(item => item.done).forEach(item => {
            todoDone.appendChild(createTodoItem(item));
        });
    }

    function createTodoItem(item) {
        const fragment = document.createElement('div');
        fragment.innerHTML = `
            <div title="${item.text}" class="todo-item">
                <input type="checkbox" ${item.done ? 'checked' : ''}>
                ${item.text}
            </div>
        `;

        const todoItem = fragment.firstElementChild;
        const checkbox = todoItem.querySelector('input');

        checkbox.onchange = () => {
            if (checkbox.checked) {
                todoDone.appendChild(todoItem);
            } else {
                todoActive.appendChild(todoItem);
            }
        };
        
        return todoItem;
    }
</script>
